<launch>
  <!-- args -->
  <arg name="joy" default="false" />
  <arg name="noise" default="0.1" />

  
  <!-- start turtlesim node -->
  <node name="turtlesim" pkg="turtlesim" type="turtlesim_node" />

  <!-- should we run joystick control? -->
  <group if="$(arg joy)">
	<node name="joystick_interface" pkg="joy" type="joy_node" required="true" output="screen"/>
	<node name="joystick_teleop" pkg="teleop_twist_joy" type="teleop_node" output="screen">
	  <param name="axis_angular" value="0" />
	  <param name="axis_linear" value="1" />
	  <param name="enable_turbo_button" value="-1" />
	  <param name="enable_button" value="10" />
	  <param name="scale_linear" value="2.5"/>
	  <param name="scale_angular" value="2.5"/>
	  <remap from="cmd_vel" to="turtle1/cmd_vel" />
	</node>
  </group>

  <!-- run measurement server -->
  <node name="measurement_server" pkg="me495_hw3" type="measurement_server.py" output="screen">
	<remap from="pose" to="turtle1/pose"/>
	<param name="noise" value="$(arg noise)"/>
  </node>

</launch>
